nohup: 忽略输入
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 36130 (\N{CJK UNIFIED IDEOGRAPH-8D22}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 32463 (\N{CJK UNIFIED IDEOGRAPH-7ECF}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 25151 (\N{CJK UNIFIED IDEOGRAPH-623F}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 20135 (\N{CJK UNIFIED IDEOGRAPH-4EA7}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 32929 (\N{CJK UNIFIED IDEOGRAPH-80A1}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 31080 (\N{CJK UNIFIED IDEOGRAPH-7968}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 25945 (\N{CJK UNIFIED IDEOGRAPH-6559}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 32946 (\N{CJK UNIFIED IDEOGRAPH-80B2}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 31185 (\N{CJK UNIFIED IDEOGRAPH-79D1}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 25216 (\N{CJK UNIFIED IDEOGRAPH-6280}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 31038 (\N{CJK UNIFIED IDEOGRAPH-793E}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 20250 (\N{CJK UNIFIED IDEOGRAPH-4F1A}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 26102 (\N{CJK UNIFIED IDEOGRAPH-65F6}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 25919 (\N{CJK UNIFIED IDEOGRAPH-653F}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 20307 (\N{CJK UNIFIED IDEOGRAPH-4F53}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 28216 (\N{CJK UNIFIED IDEOGRAPH-6E38}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 25103 (\N{CJK UNIFIED IDEOGRAPH-620F}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 23089 (\N{CJK UNIFIED IDEOGRAPH-5A31}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:157: UserWarning: Glyph 20048 (\N{CJK UNIFIED IDEOGRAPH-4E50}) missing from font(s) DejaVu Sans.
  plt.tight_layout()
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 36130 (\N{CJK UNIFIED IDEOGRAPH-8D22}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 32463 (\N{CJK UNIFIED IDEOGRAPH-7ECF}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 25151 (\N{CJK UNIFIED IDEOGRAPH-623F}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 20135 (\N{CJK UNIFIED IDEOGRAPH-4EA7}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 32929 (\N{CJK UNIFIED IDEOGRAPH-80A1}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 31080 (\N{CJK UNIFIED IDEOGRAPH-7968}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 25945 (\N{CJK UNIFIED IDEOGRAPH-6559}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 32946 (\N{CJK UNIFIED IDEOGRAPH-80B2}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 31185 (\N{CJK UNIFIED IDEOGRAPH-79D1}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 25216 (\N{CJK UNIFIED IDEOGRAPH-6280}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 31038 (\N{CJK UNIFIED IDEOGRAPH-793E}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 20250 (\N{CJK UNIFIED IDEOGRAPH-4F1A}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 26102 (\N{CJK UNIFIED IDEOGRAPH-65F6}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 25919 (\N{CJK UNIFIED IDEOGRAPH-653F}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 20307 (\N{CJK UNIFIED IDEOGRAPH-4F53}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 28216 (\N{CJK UNIFIED IDEOGRAPH-6E38}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 25103 (\N{CJK UNIFIED IDEOGRAPH-620F}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 23089 (\N{CJK UNIFIED IDEOGRAPH-5A31}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/passion/自然语言项目/baseline_ml.py:160: UserWarning: Glyph 20048 (\N{CJK UNIFIED IDEOGRAPH-4E50}) missing from font(s) DejaVu Sans.
  plt.savefig(save_path, dpi=200)
/home/sword/anaconda3/envs/ab/lib/python3.10/site-packages/sklearn/linear_model/_logistic.py:1272: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.8. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
Loading datasets...
[OK] ./data/THUCNews-txt/train.txt 读取成功: 180000 条
[OK] ./data/THUCNews-txt/dev.txt 读取成功: 10000 条
[OK] ./data/THUCNews-txt/test.txt 读取成功: 10000 条
Fitting TF-IDF...

Training LinearSVC...

===== TF-IDF (char 2-5) + LinearSVC | Dev =====
Accuracy : 0.9146
Macro-F1 : 0.9146
              precision    recall  f1-score   support

          财经     0.9084    0.8920    0.9001      1000
          房产     0.9354    0.9260    0.9307      1000
          股票     0.8584    0.8610    0.8597      1000
          教育     0.9551    0.9580    0.9566      1000
          科技     0.8689    0.8550    0.8619      1000
          社会     0.8877    0.9170    0.9021      1000
          时政     0.9066    0.9120    0.9093      1000
          体育     0.9680    0.9680    0.9680      1000
          游戏     0.9380    0.9080    0.9228      1000
          娱乐     0.9205    0.9490    0.9345      1000

    accuracy                         0.9146     10000
   macro avg     0.9147    0.9146    0.9146     10000
weighted avg     0.9147    0.9146    0.9146     10000


===== TF-IDF (char 2-5) + LinearSVC | Test =====
Accuracy : 0.9238
Macro-F1 : 0.9238
              precision    recall  f1-score   support

          财经     0.9227    0.9070    0.9148      1000
          房产     0.9428    0.9390    0.9409      1000
          股票     0.8897    0.8870    0.8883      1000
          教育     0.9571    0.9600    0.9586      1000
          科技     0.8873    0.8820    0.8847      1000
          社会     0.8878    0.9180    0.9027      1000
          时政     0.9144    0.8970    0.9056      1000
          体育     0.9590    0.9590    0.9590      1000
          游戏     0.9628    0.9330    0.9477      1000
          娱乐     0.9166    0.9560    0.9359      1000

    accuracy                         0.9238     10000
   macro avg     0.9240    0.9238    0.9238     10000
weighted avg     0.9240    0.9238    0.9238     10000

[OK] 混淆矩阵已保存: cm_svm.png

Training LogisticRegression...

===== TF-IDF (char 2-5) + LR | Dev =====
Accuracy : 0.9125
Macro-F1 : 0.9126
              precision    recall  f1-score   support

          财经     0.9126    0.8880    0.9002      1000
          房产     0.9426    0.9190    0.9306      1000
          股票     0.8559    0.8670    0.8614      1000
          教育     0.9598    0.9560    0.9579      1000
          科技     0.8600    0.8540    0.8570      1000
          社会     0.8812    0.9200    0.9002      1000
          时政     0.8992    0.9100    0.9046      1000
          体育     0.9627    0.9560    0.9594      1000
          游戏     0.9427    0.9050    0.9235      1000
          娱乐     0.9126    0.9500    0.9309      1000

    accuracy                         0.9125     10000
   macro avg     0.9129    0.9125    0.9126     10000
weighted avg     0.9129    0.9125    0.9126     10000


===== TF-IDF (char 2-5) + LR | Test =====
Accuracy : 0.9200
Macro-F1 : 0.9201
              precision    recall  f1-score   support

          财经     0.9240    0.9000    0.9119      1000
          房产     0.9424    0.9320    0.9372      1000
          股票     0.8828    0.8890    0.8859      1000
          教育     0.9587    0.9510    0.9548      1000
          科技     0.8808    0.8790    0.8799      1000
          社会     0.8837    0.9190    0.9010      1000
          时政     0.9107    0.8970    0.9038      1000
          体育     0.9521    0.9550    0.9536      1000
          游戏     0.9618    0.9310    0.9461      1000
          娱乐     0.9071    0.9470    0.9266      1000

    accuracy                         0.9200     10000
   macro avg     0.9204    0.9200    0.9201     10000
weighted avg     0.9204    0.9200    0.9201     10000


Training MultinomialNB...

===== TF-IDF (char 2-5) + MultinomialNB | Dev =====
Accuracy : 0.8865
Macro-F1 : 0.8862
              precision    recall  f1-score   support

          财经     0.8423    0.8760    0.8588      1000
          房产     0.9600    0.8400    0.8960      1000
          股票     0.8188    0.8180    0.8184      1000
          教育     0.9303    0.9340    0.9321      1000
          科技     0.8771    0.7780    0.8246      1000
          社会     0.8464    0.9260    0.8844      1000
          时政     0.8839    0.9060    0.8948      1000
          体育     0.9188    0.9500    0.9341      1000
          游戏     0.9370    0.8930    0.9145      1000
          娱乐     0.8669    0.9440    0.9038      1000

    accuracy                         0.8865     10000
   macro avg     0.8882    0.8865    0.8862     10000
weighted avg     0.8882    0.8865    0.8862     10000


===== TF-IDF (char 2-5) + MultinomialNB | Test =====
Accuracy : 0.8934
Macro-F1 : 0.8935
              precision    recall  f1-score   support

          财经     0.8740    0.8880    0.8810      1000
          房产     0.9721    0.8700    0.9182      1000
          股票     0.8463    0.8480    0.8472      1000
          教育     0.9313    0.9350    0.9331      1000
          科技     0.8834    0.8110    0.8457      1000
          社会     0.8339    0.9140    0.8721      1000
          时政     0.8777    0.8970    0.8872      1000
          体育     0.9339    0.9460    0.9399      1000
          游戏     0.9457    0.8890    0.9165      1000
          娱乐     0.8556    0.9360    0.8940      1000

    accuracy                         0.8934     10000
   macro avg     0.8954    0.8934    0.8935     10000
weighted avg     0.8954    0.8934    0.8935     10000

